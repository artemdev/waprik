file.real_name.url
film = Film.last
films.trailer
films.thrailer
user = AdminUser.new
user.username = "art"
user.password = "lordik37ztxq"
user.save
Kinopoisk
Kinopoisk::Search
Kinopoisk::Search.new "back"
Kinopoisk::Search.new("back")
Nokogiri::HTML
s = Kinopoisk::Search.new "test" 
open-uri
Kinopoisk.parse
Kinopoisk.parse "http://waprik.ru"
doc = Kinopoisk.parse "http://waprik.ru"
doc.search ".info .name a[href*='/#{type}/']"
doc.search ".info .name a[href*='/a/']"
doc.search ".info .name a[href*='/films/']"
doc.search ".info .name a[href*='films/']"
HTTPClient.new.get waprik.ru, nil, { 'User-Agent'=>'a', 'Accept-Encoding'=>'a' }
HTTPClient.new.get "waprik.ru", nil, { 'User-Agent'=>'a', 'Accept-Encoding'=>'a' }
URI
sinatra
Sinatra
s = Kinopoisk::Search.new "test"
s.movies
.movies
 i = Kinopoisk::Search.new("Туман (2010)")
HTTPClient.new.get url, nil, { 'User-Agent'=>'a', 'Accept-Encoding'=>'a' }
HTTPClient.new.get "http://waprik.ru", nil, { 'User-Agent'=>'a', 'Accept-Encoding'=>'a' }
doc = HTTPClient.new.get "http://waprik.ru", nil, { 'User-Agent'=>'a', 'Accept-Encoding'=>'a' }
doc.status==200
doc = HTTPClient.new.get "http://kinopoisk.ru", nil, { 'User-Agent'=>'a', 'Accept-Encoding'=>'a' }
s = Kinopoisk::Search.new "back"
doc = HTTPClient.new.get "http://http://www.kinopoisk.ru/index.php?kp_query=back", nil, { 'User-Agent'=>'a', 'Accept-Encoding'=>'a' }
doc
doc.status
doc = HTTPClient.new.get "http://www.kinopoisk.ru/index.php?kp_query=back", nil, { 'User-Agent'=>'a', 'Accept-Encoding'=>'utf-8' }
doc = HTTPClient.new.get "http://www.kinopoisk.ru/index.php?kp_query=back", nil, { 'User-Agent'=>'chrome', 'Accept-Encoding'=>'utf-8' }
doc = HTTPClient.new.get "http://www.kinopoisk.ru/index.php?kp_query=back", nil, { 'User-Agent'=>'87.229.177.122:3128', 'Accept-Encoding'=>'utf-8' }
doc = HTTPClient.new.get "http://www.kinopoisk.ru/index.php?kp_query=back", nil, { 'User-Agent'=>'test', 'Accept-Encoding'=>'utf-8' }
doc = HTTPClient.new.get "http://www.kinopoisk.ru/index.php?kp_query=back", nil, { 'User-Agent'=>'a', 'Accept-Encoding'=>'a' }
clnt = HTTPClient.new('5.53.16.183:8080')
clnt = HTTPClient.new('http://5.53.16.183:8080')
cntl
clnt
proxy = HTTPClient.new('http://5.53.16.183:8080')
doc = proxy.get "http://www.kinopoisk.ru/index.php?kp_query=back", nil, { 'User-Agent'=>'test', 'Accept-Encoding'=>'utf-8' }
йгше
i = Kinopoisk::Search.new "малефисента"
i.movies
Film.find(1214).destroy
Film.all.each do |film|
film.destroy if film.title.empty?
film.downloads += 14500
film.downloads += 7000
film.downloads += 14300
film.save
FilmCategory.all
FilmGenre.all.each do |g|
g.title.downcase
g.title.mb_chars.downcase
str = "Привет"
string.mb_chars.downcase
str.mb_chars.downcase
str.mb_chars.downcase.to_s
g.save
g.save(validate: false)
FilmGenre.all
genre = FilmGenre.find(10)
genre.title.mb_chars.downcase
genre.title.mb_chars.downcase.to_s
genre
genre.save
genre.title = genre.title.mb_chars.downcase.to_s
genre.save!(valid: false)
g.title.mb_chars.downcase.to_s
FilmGenre.all.map! do |g|
g.title = g.title.mb_chars.downcase.to_s
g.save!
end
film = Film.find(1233)
film.genres = []
film.genres << FilmGenre.find(7)
film.genres << FilmGenre.find(6)
film.genres << FilmGenre.find(17)
FilmGenre.find(21).destroy
FilmGenre.find(22).destroy
film = Film.find(1234)
film.genres
film.genres.find(23).destroy
genre = FilmGenre.find(3)
f
genre = FilmGenre.find(5)
film.genres << genre
qit
quit
